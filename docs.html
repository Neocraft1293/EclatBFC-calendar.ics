<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Documentation du script d'agenda Eclat</title>
  </head>
  <body>
    <h1>Documentation du script d'agenda Eclat</h1>
    <p>Ce script est con√ßu pour permettre √† un utilisateur de se connecter √† son compte Eclat et de g√©n√©rer un calendrier ICS de ses cours et travaux √† faire. Le calendrier peut √™tre personnalis√© en s√©lectionnant diverses options lors de la g√©n√©ration.</p>
    
    <h2>Utilisation</h2>
    <p>Pour utiliser ce script, vous devez d'abord vous assurer que vous avez install√© les d√©pendances suivantes:</p>
    <ul>
      <li><a href="https://www.npmjs.com/package/express">express</a></li>
      <li><a href="https://www.npmjs.com/package/moment">moment</a></li>
      <li><a href="https://www.npmjs.com/package/body-parser">body-parser</a></li>
    </ul>
    <p>Vous pouvez installer ces d√©pendances en utilisant la commande suivante:</p>
    <pre>
npm install express moment body-parser
    </pre>
    <p>Une fois que vous avez install√© ces d√©pendances, vous pouvez ex√©cuter le script en utilisant la commande suivante:</p>
    <pre>
node script.js
    </pre>
    <p>Le script d√©marrera un serveur web qui √©coute sur l'adresse IP et le port sp√©cifi√©s dans le fichier "script.js". Vous pouvez acc√©der au formulaire de connexion en acc√©dant √† l'adresse "http://IP:port/login" dans votre navigateur, o√π "IP" et "port" sont remplac√©s par les valeurs sp√©cifi√©es dans le script.</p>
    
    <h2>Routes</h2>
    <h3>/login</h3>
    <p>Cette route affiche un formulaire de connexion qui accepte un nom d'utilisateur et un mot de passe. Lorsque le formulaire est soumis, les informations de connexion sont v√©rifi√©es et, si elles sont valides, un jeton d'authentification est g√©n√©r√© et envoy√© √† l'utilisateur. Si les informations de connexion sont incorrectes, un message d'erreur est affich√©.</p>
    <h3>/calendar.ics</h3>
    <p>Cette route accepte un jeton d'authentification et des options de personnalisation dans l'URL et renvoie un fichier ICS contenant le calendrier de l'utilisateur avec les options de personnalisation appliqu√©es. Si le jeton d'authentification n'est pas valide ou si l'utilisateur n'est pas connect√©, un message d'erreur est renvoy√©.</p>
        <h2>Fonctions</h2>
        <h3>loginByCredentials(username, password)</h3>
        <p>Cette fonction essaie de se connecter √† Eclat avec les informations de connexion donn√©es. Elle renvoie un bool√©en indiquant si la connexion a r√©ussi ou non.</p>
        <h3>loginByToken(token)</h3>
        <p>Cette fonction essaie de se connecter √† Eclat avec un jeton d'authentification donn√©. Elle renvoie un bool√©en indiquant si la connexion a r√©ussi ou non.</p>
        <h3>getCalendar()</h3>
        <p>Cette fonction r√©cup√®re le calendrier de l'utilisateur connect√© √† partir d'Eclat. Elle renvoie un objet contenant les donn√©es du calendrier.</p>
        <h3>getInfo()</h3>
        <p>Cette fonction r√©cup√®re les informations de l'utilisateur connect√© √† partir d'Eclat. Elle renvoie un objet contenant les informations de l'utilisateur.</p>
        
        <h2>Modules tiers</h2>
        <h3>moment</h3>
        <p>Le module <a href="https://www.npmjs.com/package/moment">moment</a> est utilis√© pour formater et manipuler des dates et des heures. Il est utilis√© dans le script pour ajouter la date de g√©n√©ration de l'agenda aux √©v√©nements du calendrier, si l'option "date" est s√©lectionn√©e.</p>
        <h3>body-parser</h3>
        <p>Le module <a href="https://www.npmjs.com/package/body-parser">body-parser</a> est utilis√© pour traiter les donn√©es de formulaire envoy√©es via la m√©thode HTTP POST. Il est utilis√© dans le script pour r√©cup√©rer les informations de connexion envoy√©es via le formulaire de connexion.</p>
        
        <h2>Options de personnalisation</h2>
        <p>Lors de la g√©n√©ration de l'agenda, vous pouvez s√©lectionner les options suivantes pour personnaliser l'agenda g√©n√©r√©:</p>
        <ul>
          <li>addSymbol: Ajoute "üíº" aux mati√®res qui ont des travaux √† faire.</li>
          <li>addWork: Ajoute les travaux √† faire pour chaque mati√®re dans la description de l'√©v√©nement.</li>
          <li>name: Ajoute votre nom dans la description de l'agenda.</li>
          <li>date: Ajoute la date de g√©n√©ration de l'agenda aux √©v√©nements du calendrier.</li>
        </ul>
        <p>Pour s√©lectionner une ou plusieurs options, ajoutez les noms des options dans l'URL de la route "calendar.ics" en les s√©parant par des virgules. Par exemple, pour s√©lectionner les options "addSymbol" et "name", utilisez "options=addSymbol,name" dans l'URL.</p>
            <h2>Exemple d'utilisation</h2>
            <p>Voici comment utiliser ce script pour g√©n√©rer un agenda personnalis√©:</p>
            <ol>
              <li>Acc√©dez √† l'adresse "http://IP:port/login" dans votre navigateur, o√π "IP" et "port" sont remplac√©s par les valeurs sp√©cifi√©es dans le script.</li>
              <li>Entrez votre nom d'utilisateur et votre mot de passe dans le formulaire de connexion et cliquez sur "Se connecter".</li>
              <li>Si la connexion a r√©ussi, vous serez redirig√© vers une page qui vous affiche votre token d'authentification et vous propose de s√©lectionner les options de personnalisation de votre agenda.</li>
              <li>S√©lectionnez les options de votre choix et cliquez sur "G√©n√©rer l'agenda".</li>
              <li>Pour acc√©der √† votre agenda g√©n√©r√©, utilisez l'adresse "http://IP:port/calendar.ics?token=TOKEN&options=OPTIONS", o√π "IP", "port" et "TOKEN" sont remplac√©s par les valeurs sp√©cifi√©es dans le script, et "OPTIONS" est remplac√© par une liste des options s√©lectionn√©es s√©par√©es par des virgules. Par exemple, pour s√©lectionner les options "addSymbol" et "name", vous devez utiliser "options=addSymbol,name".</li>
            </ol>
              </body>
            </html>
            